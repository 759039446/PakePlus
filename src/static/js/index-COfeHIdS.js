var K=(w,k,p)=>new Promise((t,v)=>{var f=c=>{try{b(p.next(c))}catch(y){v(y)}},P=c=>{try{b(p.throw(c))}catch(y){v(y)}},b=c=>c.done?t(c.value):Promise.resolve(c.value).then(f,P);b((p=p.apply(w,k)).next())});import{d as ve,n as r,I as Z,x as fe,c as I,b as l,h as u,aw as z,r as i,o as m,e as T,u as R,ax as Ve,f as U,P as L,Q as B,g as S,T as ee,ay as le,az as ae,W as te,_ as be}from"./index-DF2Bf9g4.js";import{g as Se,u as ye}from"./robotConfig-BdjOAZd3.js";const E={QuarkCookie:"夸克cookie",QuarkTransferPath:"夸克转存路径",QuarkSharePassword:"夸克分享密码",BaiduCookie:"百度cookie",BaiduTransferPath:"百度转存路径",BaiduSharePassword:"百度分享密码",BaiduRandomPassword:"百度是否随机密码",BaiduAdSavePath:"百度广告回收站路径",TransferAdMessage:"转存广告词",SearchKeyword:"搜索词",EnableLocalSearch:"是否开启本地搜索",SearchSuccessLocalReplyPrefix:"本地搜索成功回复前缀",SearchResultLocalTemplate:"本地搜索结果模板",SearchSuccessLocalReplySuffix:"本地搜索成功回复后缀",SearchFailureLocalReply:"本地搜索失败回复",LocalDisplayCount:"本地显示条数",ContinueAPISearch:"本地搜索成功继续API搜索",EnableAPISearch:"开启接口搜索",SearchPreMessage:"搜索前置消息",SearchSuccessAPIReplyPrefix:"搜索成功回复前缀",SearchResultAPITemplate:"搜索结果模板",SearchSuccessAPIReplySuffix:"搜索成功回复后缀",SearchResultAPIDataTemplate:"转存后结果模板",SearchFailureAPIReply:"搜索失败回复",SearchPageSize:"搜索结果分页大小",EnabledCloudTypes:"启用网盘类型",APIEndpoint:"启用接口",JumpPageCommand:"跳页",SaveToLocalDB:"分享后保存到本地",DirectShowLink:"直接显示链接"};Object.entries(E).reduce((w,[k,p])=>(w[p]=k,w),{});const ge=[{label:"百度网盘",value:"百度网盘"},{label:"夸克网盘",value:"夸克网盘"},{label:"UC网盘",value:"UC网盘",disabled:!0},{label:"阿里网盘",value:"阿里网盘",disabled:!0},{label:"迅雷网盘",value:"迅雷网盘",disabled:!0},{label:"其他",value:"其他",disabled:!0}],ke=[{label:"kk大厅",value:"kk大厅"},{label:"kk短剧",value:"kk短剧"},{label:"kk橘子资源",value:"kk橘子资源"},{label:"kk小宇",value:"kk小宇"},{label:"kk小悠",value:"kk小悠"},{label:"kk天天追剧",value:"kk天天追剧"},{label:"趣盘搜",value:"趣盘搜"},{label:"酷乐—百度",value:"酷乐—百度"},{label:"酷乐—夸克",value:"酷乐—夸克"}],Pe={class:"global-config-container"},_e={class:"card-header"},we={class:"password-container"},he={class:"tag-input-container"},xe={class:"tag-input-container"},Ce=ve({__name:"index",setup(w){const k=r("disk"),p=r(["quark","baidu","transfer","localSearch","apiSearch"]),t=r({}),v=r([]),f=r([]),P=r([]),b=r([]),c=r(0),y=r(0),M=r(!1),h=r(""),Q=r(),D=r(!1),x=r(""),j=r(),ue=()=>{M.value=!0,te(()=>{var o,e;(e=(o=Q.value)==null?void 0:o.input)==null||e.focus()})},oe=()=>{D.value=!0,te(()=>{var o,e;(e=(o=j.value)==null?void 0:o.input)==null||e.focus()})},F=()=>{if(h.value){const o=h.value.trim();o&&!v.value.includes(o)&&(v.value.push(o),N(v.value))}M.value=!1,h.value=""},O=()=>{if(x.value){const o=x.value.trim();o&&!f.value.includes(o)&&(f.value.push(o),q(f.value))}D.value=!1,x.value=""},J=(o,e)=>{o==="transferAdMessage"?(v.value.splice(e,1),N(v.value)):(f.value.splice(e,1),q(f.value))},se=o=>{t.value.LocalDisplayCount=o.toString()},ne=o=>{t.value.SearchPageSize=o.toString()},de=()=>{Object.keys(E).forEach(o=>{t.value[o]=""})},N=o=>{const e=o.map(d=>d.trim()).filter(d=>d!=="");t.value.TransferAdMessage=e.join("|")},q=o=>{const e=o.map(d=>d.trim()).filter(d=>d!=="");t.value.SearchKeyword=e.join("|")};Z(P,o=>{t.value.EnabledCloudTypes=o.join(",")}),Z(b,o=>{t.value.APIEndpoint=o.join(",")});const re=()=>K(this,null,function*(){try{const o=yield Se({robot_id:"3974942521",contact_id:"全局配置"});o!=null&&o.data&&(Object.entries(o.data).forEach(([e,d])=>{var n;const V=(n=Object.entries(E).find(([s,g])=>g===e))==null?void 0:n[0];V&&(t.value[V]=d)}),t.value.TransferAdMessage&&(v.value=t.value.TransferAdMessage.split("|").map(e=>e.trim()).filter(e=>e!=="")),t.value.SearchKeyword&&(f.value=t.value.SearchKeyword.split("|").map(e=>e.trim()).filter(e=>e!=="")),t.value.EnabledCloudTypes&&(P.value=t.value.EnabledCloudTypes.split(",")),t.value.APIEndpoint&&(b.value=t.value.APIEndpoint.split(",")),t.value.LocalDisplayCount&&(c.value=parseInt(t.value.LocalDisplayCount)||0),t.value.SearchPageSize&&(y.value=parseInt(t.value.SearchPageSize)||0))}catch(o){console.error("加载配置失败:",o),z.error("加载配置失败")}}),ie=()=>K(this,null,function*(){try{const o={};Object.entries(t.value).forEach(([e,d])=>{const V=E[e];V&&(o[V]=d)}),yield ye({robot_id:"3974942521",contact_id:"全局配置",configs:o}),z.success("保存成功")}catch(o){console.error("保存配置失败:",o),z.error("保存配置失败")}});return fe(()=>{de(),re()}),(o,e)=>{const d=i("el-icon"),V=i("el-button"),n=i("el-input"),s=i("el-form-item"),g=i("el-form"),C=i("el-collapse-item"),_=i("el-switch"),$=i("el-tag"),W=i("el-collapse"),G=i("el-tab-pane"),H=i("el-input-number"),X=i("el-option"),Y=i("el-select"),me=i("el-tabs"),pe=i("el-card");return m(),I("div",Pe,[l(pe,{class:"config-card"},{header:u(()=>[T("div",_e,[e[34]||(e[34]=T("span",{class:"header-title"},"全局配置",-1)),l(V,{type:"primary",onClick:ie,class:"save-button"},{default:u(()=>[l(d,null,{default:u(()=>[l(R(Ve))]),_:1}),e[33]||(e[33]=U(" 保存配置 "))]),_:1})])]),default:u(()=>[l(me,{modelValue:k.value,"onUpdate:modelValue":e[32]||(e[32]=a=>k.value=a),class:"config-tabs"},{default:u(()=>[l(G,{label:"网盘配置",name:"disk"},{default:u(()=>[l(W,{modelValue:p.value,"onUpdate:modelValue":e[10]||(e[10]=a=>p.value=a),class:"config-collapse"},{default:u(()=>[l(C,{title:"夸克网盘",name:"quark"},{default:u(()=>[l(g,{model:t.value,"label-width":"180px",class:"config-form"},{default:u(()=>[l(s,{label:"夸克cookie"},{default:u(()=>[l(n,{modelValue:t.value.QuarkCookie,"onUpdate:modelValue":e[0]||(e[0]=a=>t.value.QuarkCookie=a),type:"textarea",rows:3,class:"custom-textarea"},null,8,["modelValue"])]),_:1}),l(s,{label:"夸克转存路径"},{default:u(()=>[l(n,{modelValue:t.value.QuarkTransferPath,"onUpdate:modelValue":e[1]||(e[1]=a=>t.value.QuarkTransferPath=a)},null,8,["modelValue"])]),_:1}),l(s,{label:"夸克分享密码"},{default:u(()=>[l(n,{modelValue:t.value.QuarkSharePassword,"onUpdate:modelValue":e[2]||(e[2]=a=>t.value.QuarkSharePassword=a)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1}),l(C,{title:"百度网盘",name:"baidu"},{default:u(()=>[l(g,{model:t.value,"label-width":"180px",class:"config-form"},{default:u(()=>[l(s,{label:"百度cookie"},{default:u(()=>[l(n,{modelValue:t.value.BaiduCookie,"onUpdate:modelValue":e[3]||(e[3]=a=>t.value.BaiduCookie=a),type:"textarea",rows:3,class:"custom-textarea"},null,8,["modelValue"])]),_:1}),l(s,{label:"百度转存路径"},{default:u(()=>[l(n,{modelValue:t.value.BaiduTransferPath,"onUpdate:modelValue":e[4]||(e[4]=a=>t.value.BaiduTransferPath=a)},null,8,["modelValue"])]),_:1}),l(s,{label:"百度分享密码"},{default:u(()=>[T("div",we,[l(n,{modelValue:t.value.BaiduSharePassword,"onUpdate:modelValue":e[5]||(e[5]=a=>t.value.BaiduSharePassword=a)},null,8,["modelValue"]),l(_,{modelValue:t.value.BaiduRandomPassword,"onUpdate:modelValue":e[6]||(e[6]=a=>t.value.BaiduRandomPassword=a),"active-value":"开启","inactive-value":"关闭","inline-prompt":"","active-text":"随机密码","inactive-text":"固定密码",class:"password-switch"},null,8,["modelValue"])])]),_:1}),l(s,{label:"百度广告回收站路径"},{default:u(()=>[l(n,{modelValue:t.value.BaiduAdSavePath,"onUpdate:modelValue":e[7]||(e[7]=a=>t.value.BaiduAdSavePath=a)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1}),l(C,{title:"转存配置",name:"transfer"},{default:u(()=>[l(g,{model:t.value,"label-width":"180px",class:"config-form"},{default:u(()=>[l(s,{label:"转存广告词"},{default:u(()=>[T("div",he,[(m(!0),I(L,null,B(v.value,(a,A)=>(m(),S($,{key:A,closable:"",onClose:ce=>J("transferAdMessage",A),class:"tag-item"},{default:u(()=>[U(ee(a),1)]),_:2},1032,["onClose"]))),128)),M.value?(m(),S(n,{key:0,ref_key:"transferAdMessageInputRef",ref:Q,modelValue:h.value,"onUpdate:modelValue":e[8]||(e[8]=a=>h.value=a),class:"tag-input",size:"small",onKeyup:le(F,["enter"]),onBlur:F},null,8,["modelValue"])):(m(),S(V,{key:1,class:"add-tag-button",size:"small",onClick:ue},{default:u(()=>[l(d,null,{default:u(()=>[l(R(ae))]),_:1}),e[35]||(e[35]=U(" 添加广告词 "))]),_:1}))])]),_:1}),l(s,{label:"搜索词"},{default:u(()=>[T("div",xe,[(m(!0),I(L,null,B(f.value,(a,A)=>(m(),S($,{key:A,closable:"",onClose:ce=>J("searchKeyword",A),class:"tag-item"},{default:u(()=>[U(ee(a),1)]),_:2},1032,["onClose"]))),128)),D.value?(m(),S(n,{key:0,ref_key:"searchKeywordInputRef",ref:j,modelValue:x.value,"onUpdate:modelValue":e[9]||(e[9]=a=>x.value=a),class:"tag-input",size:"small",onKeyup:le(O,["enter"]),onBlur:O},null,8,["modelValue"])):(m(),S(V,{key:1,class:"add-tag-button",size:"small",onClick:oe},{default:u(()=>[l(d,null,{default:u(()=>[l(R(ae))]),_:1}),e[36]||(e[36]=U(" 添加搜索词 "))]),_:1}))])]),_:1})]),_:1},8,["model"])]),_:1})]),_:1},8,["modelValue"])]),_:1}),l(G,{label:"搜索配置",name:"search"},{default:u(()=>[l(W,{modelValue:p.value,"onUpdate:modelValue":e[31]||(e[31]=a=>p.value=a),class:"config-collapse"},{default:u(()=>[l(C,{title:"本地搜索",name:"localSearch"},{default:u(()=>[l(g,{model:t.value,"label-width":"180px",class:"config-form"},{default:u(()=>[l(s,{label:"是否开启本地搜索"},{default:u(()=>[l(_,{modelValue:t.value.EnableLocalSearch,"onUpdate:modelValue":e[11]||(e[11]=a=>t.value.EnableLocalSearch=a),"active-value":"开启","inactive-value":"关闭","inline-prompt":""},null,8,["modelValue"])]),_:1}),l(s,{label:"本地搜索成功回复前缀"},{default:u(()=>[l(n,{modelValue:t.value.SearchSuccessLocalReplyPrefix,"onUpdate:modelValue":e[12]||(e[12]=a=>t.value.SearchSuccessLocalReplyPrefix=a),type:"textarea",rows:3,class:"custom-textarea"},null,8,["modelValue"])]),_:1}),l(s,{label:"本地搜索结果模板"},{default:u(()=>[l(n,{modelValue:t.value.SearchResultLocalTemplate,"onUpdate:modelValue":e[13]||(e[13]=a=>t.value.SearchResultLocalTemplate=a),type:"textarea",rows:3,class:"custom-textarea"},null,8,["modelValue"])]),_:1}),l(s,{label:"本地搜索成功回复后缀"},{default:u(()=>[l(n,{modelValue:t.value.SearchSuccessLocalReplySuffix,"onUpdate:modelValue":e[14]||(e[14]=a=>t.value.SearchSuccessLocalReplySuffix=a),type:"textarea",rows:3,class:"custom-textarea"},null,8,["modelValue"])]),_:1}),l(s,{label:"本地搜索失败回复"},{default:u(()=>[l(n,{modelValue:t.value.SearchFailureLocalReply,"onUpdate:modelValue":e[15]||(e[15]=a=>t.value.SearchFailureLocalReply=a),type:"textarea",rows:3,class:"custom-textarea"},null,8,["modelValue"])]),_:1}),l(s,{label:"本地显示条数"},{default:u(()=>[l(H,{modelValue:c.value,"onUpdate:modelValue":e[16]||(e[16]=a=>c.value=a),min:0,max:10,onChange:se,class:"number-input"},null,8,["modelValue"])]),_:1}),l(s,{label:"本地搜索成功继续API搜索"},{default:u(()=>[l(_,{modelValue:t.value.ContinueAPISearch,"onUpdate:modelValue":e[17]||(e[17]=a=>t.value.ContinueAPISearch=a),"active-value":"开启","inactive-value":"关闭","inline-prompt":""},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1}),l(C,{title:"API接口搜索",name:"apiSearch"},{default:u(()=>[l(g,{model:t.value,"label-width":"180px",class:"config-form"},{default:u(()=>[l(s,{label:"开启接口搜索"},{default:u(()=>[l(_,{modelValue:t.value.EnableAPISearch,"onUpdate:modelValue":e[18]||(e[18]=a=>t.value.EnableAPISearch=a),"active-value":"开启","inactive-value":"关闭","inline-prompt":""},null,8,["modelValue"])]),_:1}),l(s,{label:"搜索前置消息"},{default:u(()=>[l(n,{modelValue:t.value.SearchPreMessage,"onUpdate:modelValue":e[19]||(e[19]=a=>t.value.SearchPreMessage=a),type:"textarea",rows:3,class:"custom-textarea"},null,8,["modelValue"])]),_:1}),l(s,{label:"搜索成功回复前缀"},{default:u(()=>[l(n,{modelValue:t.value.SearchSuccessAPIReplyPrefix,"onUpdate:modelValue":e[20]||(e[20]=a=>t.value.SearchSuccessAPIReplyPrefix=a),type:"textarea",rows:3,class:"custom-textarea"},null,8,["modelValue"])]),_:1}),l(s,{label:"搜索结果模板"},{default:u(()=>[l(n,{modelValue:t.value.SearchResultAPITemplate,"onUpdate:modelValue":e[21]||(e[21]=a=>t.value.SearchResultAPITemplate=a),type:"textarea",rows:3,class:"custom-textarea"},null,8,["modelValue"])]),_:1}),l(s,{label:"搜索成功回复后缀"},{default:u(()=>[l(n,{modelValue:t.value.SearchSuccessAPIReplySuffix,"onUpdate:modelValue":e[22]||(e[22]=a=>t.value.SearchSuccessAPIReplySuffix=a),type:"textarea",rows:3,class:"custom-textarea"},null,8,["modelValue"])]),_:1}),l(s,{label:"转存后结果模板"},{default:u(()=>[l(n,{modelValue:t.value.SearchResultAPIDataTemplate,"onUpdate:modelValue":e[23]||(e[23]=a=>t.value.SearchResultAPIDataTemplate=a),type:"textarea",rows:3,class:"custom-textarea"},null,8,["modelValue"])]),_:1}),l(s,{label:"搜索失败回复"},{default:u(()=>[l(n,{modelValue:t.value.SearchFailureAPIReply,"onUpdate:modelValue":e[24]||(e[24]=a=>t.value.SearchFailureAPIReply=a),type:"textarea",rows:3,class:"custom-textarea"},null,8,["modelValue"])]),_:1}),l(s,{label:"搜索结果分页大小"},{default:u(()=>[l(H,{modelValue:y.value,"onUpdate:modelValue":e[25]||(e[25]=a=>y.value=a),min:0,max:10,onChange:ne,class:"number-input"},null,8,["modelValue"])]),_:1}),l(s,{label:"启用网盘类型"},{default:u(()=>[l(Y,{modelValue:P.value,"onUpdate:modelValue":e[26]||(e[26]=a=>P.value=a),multiple:"","collapse-tags":"","collapse-tags-tooltip":"","max-collapse-tags":3,placeholder:"请选择网盘类型",class:"full-width-select"},{default:u(()=>[(m(!0),I(L,null,B(R(ge),a=>(m(),S(X,{key:a.value,label:a.label,value:a.value,disabled:a.disabled},null,8,["label","value","disabled"]))),128))]),_:1},8,["modelValue"])]),_:1}),l(s,{label:"启用接口"},{default:u(()=>[l(Y,{modelValue:b.value,"onUpdate:modelValue":e[27]||(e[27]=a=>b.value=a),multiple:"","collapse-tags":"","collapse-tags-tooltip":"","max-collapse-tags":3,placeholder:"请选择接口",class:"full-width-select"},{default:u(()=>[(m(!0),I(L,null,B(R(ke),a=>(m(),S(X,{key:a.value,label:a.label,value:a.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),l(s,{label:"跳页"},{default:u(()=>[l(n,{modelValue:t.value.JumpPageCommand,"onUpdate:modelValue":e[28]||(e[28]=a=>t.value.JumpPageCommand=a)},null,8,["modelValue"])]),_:1}),l(s,{label:"分享后保存到本地"},{default:u(()=>[l(_,{modelValue:t.value.SaveToLocalDB,"onUpdate:modelValue":e[29]||(e[29]=a=>t.value.SaveToLocalDB=a),"active-value":"开启","inactive-value":"关闭","inline-prompt":""},null,8,["modelValue"])]),_:1}),l(s,{label:"直接显示链接"},{default:u(()=>[l(_,{modelValue:t.value.DirectShowLink,"onUpdate:modelValue":e[30]||(e[30]=a=>t.value.DirectShowLink=a),"active-value":"开启","inactive-value":"关闭","inline-prompt":""},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["modelValue"])]),_:1})])}}}),Re=be(Ce,[["__scopeId","data-v-66d956fe"]]);export{Re as default};
