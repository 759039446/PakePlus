var O=Object.defineProperty;var V=Object.getOwnPropertySymbols;var U=Object.prototype.hasOwnProperty,$=Object.prototype.propertyIsEnumerable;var x=(a,l,n)=>l in a?O(a,l,{enumerable:!0,configurable:!0,writable:!0,value:n}):a[l]=n,w=(a,l)=>{for(var n in l||(l={}))U.call(l,n)&&x(a,n,l[n]);if(V)for(var n of V(l))$.call(l,n)&&x(a,n,l[n]);return a};var r=(a,l,n)=>new Promise((C,g)=>{var v=u=>{try{s(n.next(u))}catch(c){g(c)}},f=u=>{try{s(n.throw(u))}catch(c){g(c)}},s=u=>u.done?C(u.value):Promise.resolve(u.value).then(v,f);s((n=n.apply(a,l)).next())});import{aN as z,n as o,t as I,aO as Q,x as W,b as i,r as y,P,f as M,aP as _,aQ as m}from"./index-6_7yIFiW.js";import{u as T}from"./hooks-BGCaOdhW.js";const b="http://localhost:2556",j=a=>z.request("post",b+"/api/panShare/page",{data:a}),G=a=>z.request("post",b+"/api/panShare/update",{data:a}),J=a=>z.request("post",b+"/api/panShare/delete",{data:a}),K=a=>z.request("post",b+"/api/panShare/add",{data:a}),X={width:1024,height:1024,body:'<path fill="currentColor" d="M160 256H96a32 32 0 0 1 0-64h256V95.936a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V192h256a32 32 0 1 1 0 64h-64v672a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32V256zm448-64v-64H416v64h192zM224 896h576V256H224v640zm192-128a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32zm192 0a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32z"/>'},Y={width:1024,height:1024,body:'<path fill="currentColor" d="m199.04 672.64l193.984 112l224-387.968l-193.92-112l-224 388.032zm-23.872 60.16l32.896 148.288l144.896-45.696L175.168 732.8zM455.04 229.248l193.92 112l56.704-98.112l-193.984-112l-56.64 98.112zM104.32 708.8l384-665.024l304.768 175.936L409.152 884.8h.064l-248.448 78.336L104.32 708.8zm384 254.272v-64h448v64h-448z"/>'},Z={width:1024,height:1024,body:'<path fill="currentColor" d="M352 480h320a32 32 0 1 1 0 64H352a32 32 0 0 1 0-64z"/><path fill="currentColor" d="M480 672V352a32 32 0 1 1 64 0v320a32 32 0 0 1-64 0z"/><path fill="currentColor" d="M512 896a384 384 0 1 0 0-768a384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896a448 448 0 0 1 0 896z"/>'};function ne(){const a=o({}),l=o(!0),n=o("no"),C=o("nohide"),g=o("default"),v=o("right"),f=o([]),s=o("编辑"),u=[{label:"名称",width:120,prop:"name",valueType:"copy"},{label:"链接",prop:"url",valueType:"copy"},{label:"提取码",prop:"extractCode",valueType:"copy"},{label:"网盘类型",prop:"panType",valueType:"select",options:[{label:"夸克网盘",value:"夸克网盘"},{label:"百度网盘",value:"百度网盘"},{label:"迅雷网盘",value:"迅雷网盘"},{label:"UC网盘",value:"UC网盘"},{label:"其他",value:"其他"}]}],c=o(!1),d=o({}),k=[{label:"名称",prop:"name"},{label:"链接",prop:"url",cellRenderer:({row:e})=>i(P,null,[i(y("el-link"),{type:"primary",href:e.url,target:"_blank"},{default:()=>[e.url]})])},{label:"提取码",prop:"extractCode"},{label:"网盘类型",cellRenderer:({row:e})=>i(P,null,[i(y("el-tag"),{type:"primary"},{default:()=>[e.panType]})])},{align:"center",label:"操作",cellRenderer:({row:e})=>i(P,null,[i(y("el-button"),{link:!0,icon:T(Y),type:"primary",onClick:()=>A(e)},{default:()=>[M("编辑")]}),i(y("el-button"),{link:!0,icon:T(X),type:"danger",onClick:()=>D(e)},{default:()=>[M("删除")]})])}],t=I({pageSize:10,currentPage:1,pageSizes:[10,15,20],total:0,align:"right",background:!0,size:"default"}),H=()=>r(this,null,function*(){t.currentPage=1,yield p(t.currentPage,t.pageSize)}),R=()=>r(this,null,function*(){a.value={},t.currentPage=1,yield p(t.currentPage,t.pageSize)});function q(){return r(this,null,function*(){s.value="添加",d.value={name:"",url:"",extractCode:"",panType:""},c.value=!0})}function p(e,h){return r(this,null,function*(){l.value=!0;const N=w({page:e,pageSize:h},a.value),S=yield j(N);S.code===200&&(f.value=S.data,t.total=S.total),l.value=!1})}function A(e){return r(this,null,function*(){s.value="编辑",c.value=!0,d.value={id:e.id,name:e.name,url:e.url,extractCode:e.extractCode,panType:e.panType}})}function D(e){return r(this,null,function*(){_.confirm("删除后不可恢复，是否确定删除?","Warning",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>r(this,null,function*(){try{const h=yield J(e);h.code===200?m({type:"success",message:"删除成功"}):m({type:"error",message:h.message})}catch(h){}yield p(t.currentPage,t.pageSize)}))})}function E(e){t.size=e}function F(e){}function B(){return r(this,null,function*(){yield p(t.currentPage,t.pageSize)})}function L(){return r(this,null,function*(){const e=o();if(s.value==="添加")e.value=yield K(d.value);else if(s.value==="编辑")e.value=yield G(d.value);else{m({type:"error",message:"弹窗配置错误"});return}e.value.code===200&&(m({type:"success",message:e.value.message}),c.value=!1,yield p(t.currentPage,t.pageSize))})}return Q(()=>{t.align=v.value}),W(()=>r(this,null,function*(){yield p(t.currentPage,t.pageSize)})),{loading:l,columns:k,pageData:f,select:n,hideVal:C,tableSize:g,searchConditon:a,pagination:t,paginationAlign:v,editVisible:c,editValues:d,editColumns:u,editTitle:s,AddFill:Z,onChange:E,onSizeChange:F,onCurrentChange:B,handleSearch:H,handleOpenAddDialog:q,handleRest:R,handleConfirm:L,useRenderIcon:T}}export{ne as useColumns};
